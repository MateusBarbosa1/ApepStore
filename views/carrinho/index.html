<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Carrinho de Compras</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="css/auth.css" />

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

    <!-- Bootstrap CSS -->
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Bootstrap JS (Popper.js included) -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
    />
    <link rel="stylesheet" href="css/carrinho.css" />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <header>
      <div class="top-header">
        <div class="icon-mobile" style="padding-bottom: 3px">
          <span class="material-symbols-outlined"> menu </span>
        </div>
        <div class="logo">
          <img
            src="images/logo.png"
            alt=""
            onclick="window.location.href = '/';"
          />
        </div>
        <div class="icon-mobile">
          <span
            class="material-symbols-outlined"
            style="font-size: 27px"
            onclick="window.location.href = '/carrinho'"
          >
            shopping_cart
          </span>
        </div>
        <div class="search">
          <input
            type="search"
            name="search"
            placeholder="O que voc√™ procura hoje?"
          />
        </div>

        <nav class="options">
          <div class="login-option">
            <span class="material-symbols-outlined"> person </span>
            <% if(nome) { %>
            <a href="/account">Ol√°, <%= nome %></a>
            <% } else { %>
            <a href="/login">Entrar</a>
            <% } %>
          </div>
          <div class="carrinho-option">
            <span
              class="material-symbols-outlined"
              onclick="window.location.href = '/carrinho'"
            >
              shopping_cart
            </span>
          </div>
        </nav>
      </div>
      <div class="menu">
        <span class="material-symbols-outlined close"> close </span>
        <a href="/">INICIO</a>
        <a href="/all-roupas">TODAS AS ROUPAS</a>
        <a href="/camisetas">CAMISETAS</a>
        <a href="/roupas-femininas">ROUPAS FEMININAS</a>
        <a href="/sapatos">SAPATOS</a>
        <a href="/sobre">SOBRE N√ìS</a>
        <div class="login-option">
          <span class="material-symbols-outlined"> person </span>
          <% if(nome) { %>
          <a href="/account">Ol√°, <%= nome %></a>
          <% } else { %>
          <a href="/login">Entrar</a>
          <% } %>
        </div>
      </div>
      <div class="search-mobile">
        <input
          type="search"
          name="search"
          placeholder="O que voc√™ procura hoje?"
        />
      </div>
    </header>
    <div class="rota">
      <h2>Carrinho</h2>
    </div>
    <% if(produtos === false) { %>
    <p style="text-align: center">
      <a href="/login">Entre</a> na sua conta para ter acesso ao carrinho!
    </p>
    <% } else { %> <% if(produtos && produtos.length === 0) { %>
    <p style="text-align: center">Seu carrinho est√° vazio</p>
    <% } else { %>
    <div class="container">
      <!-- Main Content -->
      <main class="main-content">
        <!-- Produtos -->
        <section class="products-section">
          <div class="products-list">
            <!-- Produto 1 -->
            <% for(let i = 0;i < produtos.length;i++) { %>
            <div class="product-card">
              <div class="product-image">
                <img
                  src="images/produtos/<%= produtos[i].img %>"
                  alt="<%= produtos[i].nome %>"
                />
              </div>
              <div class="product-info">
                <h3 class="product-name"><%= produtos[i].nome %></h3>
                <% if(produtos[i].cor == 'null') { %>
                <span
                  ><a href="/produto-single/<%= produtos[i].id %>"
                    >Escolher Cor e Tamanho</a
                  ></span
                >
                <% } else {%>
                <span><%= produtos[i].cor %></span>
                <span><%= produtos[i].tamanho %></span>
                <% } %>
                <div class="product-footer">
                  <span class="product-price"
                    >R$ <%= produtos[i].preco.toFixed(2) %></span
                  >
                  <div class="quantity-control">
                    <button class="qty-btn">‚àí</button>
                    <input
                      type="number"
                      class="qty-input"
                      data-id="<%= produtos[i].id %>"
                      value="<%= produtos[i].qtd %>"
                      min="1"
                    />
                    <button class="qty-btn">+</button>
                  </div>
                </div>
              </div>
              <button
                class="remove-btn"
                data-id="<%= produtos[i].id %>"
                title="Remover item"
              >
                ‚úï
              </button>
            </div>
            <% } %>
          </div>
        </section>

        <!-- Resumo do Carrinho -->
        <aside class="cart-summary">
          <h2 class="summary-title">Resumo</h2>

          <div class="summary-row subtotal">
            <span class="summary-label">Subtotal</span>
            <span class="summary-value">R$ 0,00</span>
          </div>

          <div class="summary-row">
            <span class="summary-label">Frete</span>
            <span class="summary-value">R$ 0,00</span>
          </div>

          <div class="summary-row">
            <span class="summary-label">Desconto</span>
            <span class="summary-value discount">‚àíR$ 0,00</span>
          </div>

          <div class="summary-divider"></div>

          <div class="summary-row total">
            <span class="summary-label">Total</span>
            <span class="summary-value">R$ 0,00</span>
          </div>

          <button class="checkout-btn">Finalizar Compra</button>
          <button class="continue-shopping-btn">Continuar Comprando</button>

          <div class="payment-methods">
            <p class="payment-title">Formas de Pagamento</p>
            <div class="payment-icons">
              <span class="payment-icon">üí≥</span>
              <span class="payment-icon">üè¶</span>
              <span class="payment-icon">üì±</span>
            </div>
          </div>
        </aside>
      </main>
    </div>
    <% } %> <% } %>

    <script src="js/mobile-menu.js"></script>
    <script src="js/carrinho-page.js"></script>
  </body>
</html>
